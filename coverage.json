{"meta": {"format": 3, "version": "7.11.0", "timestamp": "2025-10-23T18:17:59.147606", "branch_coverage": true, "show_contexts": false}, "files": {"infrastructure/hybrid_rag_retriever.py": {"executed_lines": [1, 33, 34, 35, 36, 38, 40, 41, 47, 48, 51, 52, 53, 67, 68, 69, 70, 71, 72, 73, 74, 75, 77, 92, 93, 126, 142, 143, 144, 145, 148, 157, 166, 212, 223, 224, 226, 227, 229, 232, 233, 234, 249, 250, 251, 252, 253, 261, 262, 263, 264, 265, 273, 279, 283, 305, 307, 310, 311, 314, 317, 323, 330, 335, 336, 337, 339, 344, 350, 355, 356, 359, 360, 362, 364, 374, 376, 406, 409, 410, 411, 413, 418, 421, 422, 424, 426, 427, 428, 429, 431, 433, 435, 458, 461, 463, 465, 466, 467, 468, 470, 471, 475, 476, 477, 478, 482, 483, 485, 497, 499, 501, 523, 524, 525, 528, 529, 530, 531, 534, 535, 539, 543, 569, 570, 572, 574, 578, 580, 581, 582, 585, 605, 621, 625, 626, 628, 632, 634, 656, 658, 661, 664, 665, 666, 667, 670, 681, 683, 685, 709, 711, 712, 717, 722, 728, 729, 730, 733, 734, 737, 748, 750, 752, 788, 801], "summary": {"covered_lines": 163, "num_statements": 204, "percent_covered": 77.37226277372262, "percent_covered_display": "77.37", "missing_lines": 41, "excluded_lines": 0, "num_branches": 70, "num_partial_branches": 11, "covered_branches": 49, "missing_branches": 21}, "missing_lines": [79, 237, 238, 243, 244, 254, 255, 257, 258, 266, 267, 269, 270, 274, 275, 276, 340, 341, 415, 416, 541, 590, 591, 592, 593, 596, 597, 601, 603, 668, 714, 715, 718, 719, 731, 735, 775, 776, 778, 779, 786], "excluded_lines": [], "executed_branches": [[223, 224], [223, 226], [226, 227], [226, 229], [232, 233], [232, 249], [249, 250], [249, 261], [261, 262], [261, 273], [273, 279], [311, 314], [311, 317], [335, 336], [335, 339], [339, 344], [359, 360], [359, 362], [409, 410], [409, 421], [413, 418], [421, 422], [421, 433], [424, 426], [424, 431], [427, 428], [463, 465], [463, 499], [466, 467], [466, 470], [475, 476], [475, 482], [523, 524], [529, 530], [529, 534], [569, 570], [572, 574], [572, 578], [580, 581], [580, 585], [665, 666], [665, 683], [667, 670], [711, 712], [717, 722], [729, 730], [729, 750], [730, 733], [734, 737]], "missing_branches": [[243, 244], [243, 249], [257, 258], [257, 261], [269, 270], [269, 273], [273, 274], [339, 340], [413, 415], [427, 429], [523, 541], [569, 603], [591, 592], [591, 596], [667, 668], [711, 714], [717, 718], [730, 731], [734, 735], [775, 776], [775, 778]], "functions": {"HybridSearchResult.to_dict": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 1, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 1, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [79], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "HybridRAGRetriever.__init__": {"executed_lines": [142, 143, 144, 145, 148, 157], "summary": {"covered_lines": 6, "num_statements": 6, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "HybridRAGRetriever.hybrid_search": {"executed_lines": [212, 223, 224, 226, 227, 229, 232, 233, 234, 249, 250, 251, 252, 253, 261, 262, 263, 264, 265, 273, 279], "summary": {"covered_lines": 21, "num_statements": 36, "percent_covered": 59.25925925925926, "percent_covered_display": "59.26", "missing_lines": 15, "excluded_lines": 0, "num_branches": 18, "num_partial_branches": 1, "covered_branches": 11, "missing_branches": 7}, "missing_lines": [237, 238, 243, 244, 254, 255, 257, 258, 266, 267, 269, 270, 274, 275, 276], "excluded_lines": [], "executed_branches": [[223, 224], [223, 226], [226, 227], [226, 229], [232, 233], [232, 249], [249, 250], [249, 261], [261, 262], [261, 273], [273, 279]], "missing_branches": [[243, 244], [243, 249], [257, 258], [257, 261], [269, 270], [269, 273], [273, 274]]}, "HybridRAGRetriever._hybrid_search_primary": {"executed_lines": [305, 307, 310, 311, 314, 317, 323, 330, 335, 336, 337, 339, 344, 350, 355, 356, 359, 360, 362, 364, 374], "summary": {"covered_lines": 21, "num_statements": 23, "percent_covered": 90.3225806451613, "percent_covered_display": "90.32", "missing_lines": 2, "excluded_lines": 0, "num_branches": 8, "num_partial_branches": 1, "covered_branches": 7, "missing_branches": 1}, "missing_lines": [340, 341], "excluded_lines": [], "executed_branches": [[311, 314], [311, 317], [335, 336], [335, 339], [339, 344], [359, 360], [359, 362]], "missing_branches": [[339, 340]]}, "HybridRAGRetriever._compute_rrf_scores": {"executed_lines": [406, 409, 410, 411, 413, 418, 421, 422, 424, 426, 427, 428, 429, 431, 433], "summary": {"covered_lines": 15, "num_statements": 17, "percent_covered": 85.18518518518519, "percent_covered_display": "85.19", "missing_lines": 2, "excluded_lines": 0, "num_branches": 10, "num_partial_branches": 2, "covered_branches": 8, "missing_branches": 2}, "missing_lines": [415, 416], "excluded_lines": [], "executed_branches": [[409, 410], [409, 421], [413, 418], [421, 422], [421, 433], [424, 426], [424, 431], [427, 428]], "missing_branches": [[413, 415], [427, 429]]}, "HybridRAGRetriever._create_hybrid_results": {"executed_lines": [458, 461, 463, 465, 466, 467, 468, 470, 471, 475, 476, 477, 478, 482, 483, 485, 497, 499], "summary": {"covered_lines": 18, "num_statements": 18, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 6, "num_partial_branches": 0, "covered_branches": 6, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [[463, 465], [463, 499], [466, 467], [466, 470], [475, 476], [475, 482]], "missing_branches": []}, "HybridRAGRetriever._vector_search_with_retries": {"executed_lines": [523, 524, 525, 528, 529, 530, 531, 534, 535, 539], "summary": {"covered_lines": 10, "num_statements": 11, "percent_covered": 86.66666666666667, "percent_covered_display": "86.67", "missing_lines": 1, "excluded_lines": 0, "num_branches": 4, "num_partial_branches": 1, "covered_branches": 3, "missing_branches": 1}, "missing_lines": [541], "excluded_lines": [], "executed_branches": [[523, 524], [529, 530], [529, 534]], "missing_branches": [[523, 541]]}, "HybridRAGRetriever._graph_traversal_with_retries": {"executed_lines": [569, 570, 572, 574, 578, 580, 581, 582, 585], "summary": {"covered_lines": 9, "num_statements": 17, "percent_covered": 56.0, "percent_covered_display": "56.00", "missing_lines": 8, "excluded_lines": 0, "num_branches": 8, "num_partial_branches": 1, "covered_branches": 5, "missing_branches": 3}, "missing_lines": [590, 591, 592, 593, 596, 597, 601, 603], "excluded_lines": [], "executed_branches": [[569, 570], [572, 574], [572, 578], [580, 581], [580, 585]], "missing_branches": [[569, 603], [591, 592], [591, 596]]}, "HybridRAGRetriever._get_namespace_seed_nodes": {"executed_lines": [621, 625, 626, 628, 632], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "HybridRAGRetriever._vector_only_search": {"executed_lines": [656, 658, 661, 664, 665, 666, 667, 670, 681, 683], "summary": {"covered_lines": 10, "num_statements": 11, "percent_covered": 86.66666666666667, "percent_covered_display": "86.67", "missing_lines": 1, "excluded_lines": 0, "num_branches": 4, "num_partial_branches": 1, "covered_branches": 3, "missing_branches": 1}, "missing_lines": [668], "excluded_lines": [], "executed_branches": [[665, 666], [665, 683], [667, 670]], "missing_branches": [[667, 668]]}, "HybridRAGRetriever._graph_only_search": {"executed_lines": [709, 711, 712, 717, 722, 728, 729, 730, 733, 734, 737, 748, 750], "summary": {"covered_lines": 13, "num_statements": 19, "percent_covered": 65.51724137931035, "percent_covered_display": "65.52", "missing_lines": 6, "excluded_lines": 0, "num_branches": 10, "num_partial_branches": 4, "covered_branches": 6, "missing_branches": 4}, "missing_lines": [714, 715, 718, 719, 731, 735], "excluded_lines": [], "executed_branches": [[711, 712], [717, 722], [729, 730], [729, 750], [730, 733], [734, 737]], "missing_branches": [[711, 714], [717, 718], [730, 731], [734, 735]]}, "HybridRAGRetriever._mongodb_regex_search": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 5, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 5, "excluded_lines": 0, "num_branches": 2, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 2}, "missing_lines": [775, 776, 778, 779, 786], "excluded_lines": [], "executed_branches": [], "missing_branches": [[775, 776], [775, 778]]}, "HybridRAGRetriever.get_stats": {"executed_lines": [801], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "": {"executed_lines": [1, 33, 34, 35, 36, 38, 40, 41, 47, 48, 51, 52, 53, 67, 68, 69, 70, 71, 72, 73, 74, 75, 77, 92, 93, 126, 166, 283, 376, 435, 501, 543, 605, 634, 685, 752, 788], "summary": {"covered_lines": 34, "num_statements": 34, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}}, "classes": {"HybridSearchResult": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 1, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 1, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [79], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "HybridRAGRetriever": {"executed_lines": [142, 143, 144, 145, 148, 157, 212, 223, 224, 226, 227, 229, 232, 233, 234, 249, 250, 251, 252, 253, 261, 262, 263, 264, 265, 273, 279, 305, 307, 310, 311, 314, 317, 323, 330, 335, 336, 337, 339, 344, 350, 355, 356, 359, 360, 362, 364, 374, 406, 409, 410, 411, 413, 418, 421, 422, 424, 426, 427, 428, 429, 431, 433, 458, 461, 463, 465, 466, 467, 468, 470, 471, 475, 476, 477, 478, 482, 483, 485, 497, 499, 523, 524, 525, 528, 529, 530, 531, 534, 535, 539, 569, 570, 572, 574, 578, 580, 581, 582, 585, 621, 625, 626, 628, 632, 656, 658, 661, 664, 665, 666, 667, 670, 681, 683, 709, 711, 712, 717, 722, 728, 729, 730, 733, 734, 737, 748, 750, 801], "summary": {"covered_lines": 129, "num_statements": 169, "percent_covered": 74.47698744769875, "percent_covered_display": "74.48", "missing_lines": 40, "excluded_lines": 0, "num_branches": 70, "num_partial_branches": 11, "covered_branches": 49, "missing_branches": 21}, "missing_lines": [237, 238, 243, 244, 254, 255, 257, 258, 266, 267, 269, 270, 274, 275, 276, 340, 341, 415, 416, 541, 590, 591, 592, 593, 596, 597, 601, 603, 668, 714, 715, 718, 719, 731, 735, 775, 776, 778, 779, 786], "excluded_lines": [], "executed_branches": [[223, 224], [223, 226], [226, 227], [226, 229], [232, 233], [232, 249], [249, 250], [249, 261], [261, 262], [261, 273], [273, 279], [311, 314], [311, 317], [335, 336], [335, 339], [339, 344], [359, 360], [359, 362], [409, 410], [409, 421], [413, 418], [421, 422], [421, 433], [424, 426], [424, 431], [427, 428], [463, 465], [463, 499], [466, 467], [466, 470], [475, 476], [475, 482], [523, 524], [529, 530], [529, 534], [569, 570], [572, 574], [572, 578], [580, 581], [580, 585], [665, 666], [665, 683], [667, 670], [711, 712], [717, 722], [729, 730], [729, 750], [730, 733], [734, 737]], "missing_branches": [[243, 244], [243, 249], [257, 258], [257, 261], [269, 270], [269, 273], [273, 274], [339, 340], [413, 415], [427, 429], [523, 541], [569, 603], [591, 592], [591, 596], [667, 668], [711, 714], [717, 718], [730, 731], [734, 735], [775, 776], [775, 778]]}, "": {"executed_lines": [1, 33, 34, 35, 36, 38, 40, 41, 47, 48, 51, 52, 53, 67, 68, 69, 70, 71, 72, 73, 74, 75, 77, 92, 93, 126, 166, 283, 376, 435, 501, 543, 605, 634, 685, 752, 788], "summary": {"covered_lines": 34, "num_statements": 34, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}}}}, "totals": {"covered_lines": 163, "num_statements": 204, "percent_covered": 77.37226277372262, "percent_covered_display": "77.37", "missing_lines": 41, "excluded_lines": 0, "num_branches": 70, "num_partial_branches": 11, "covered_branches": 49, "missing_branches": 21}}